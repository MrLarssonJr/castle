module Database extends "@easy-k8s/Component.pkl"
import "@easy-k8s/App.pkl"

name = "database"

part = new App {
  name = module.name
  ports {
    ["postgres"] = 5432
  }
  image = "postgres:16.2"
  env {
    new {
      name = "POSTGRES_PASSWORD"
      value = "SuperStrongPassword!"
    }
  }
  volumes {
    ["data"] {
      size = 5.gib
      path = "/var/lib/postgresql/data"
    }
  }
}
